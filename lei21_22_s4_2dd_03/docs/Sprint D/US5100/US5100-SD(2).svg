<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="675px" preserveAspectRatio="none" style="width:1350px;height:675px;background:#FFFFFF;" version="1.1" viewBox="0 0 1350 675" width="1350px" zoomAndPan="magnify"><defs/><g><rect height="27.6094" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="275" x="539.25" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="265" x="544.25" y="29.5332">AGVMovementThread Communication</text><rect fill="#FFFFFF" height="542.8984" style="stroke:#181818;stroke-width:1.0;" width="10" x="79" y="86.2188"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="320" y="151.1797"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="320" y="320.4922"/><rect fill="#FFFFFF" height="135.9609" style="stroke:#181818;stroke-width:1.0;" width="10" x="501.5" y="151.1797"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="712.5" y="257.1406"/><rect fill="#FFFFFF" height="308.625" style="stroke:#181818;stroke-width:1.0;" width="10" x="712.5" y="320.4922"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1010.5" y="584.1172"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1213" y="448.8047"/><rect height="121.3125" style="stroke:#000000;stroke-width:1.5;fill:none;" width="756" x="588.5" y="365.4922"/><rect height="121.3125" style="stroke:#000000;stroke-width:1.5;fill:none;" width="513" x="588.5" y="500.8047"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="84" x2="84" y1="76.2188" y2="639.1172"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="324.5" x2="324.5" y1="117.5234" y2="639.1172"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="506.5" x2="506.5" y1="76.2188" y2="639.1172"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="717.5" x2="717.5" y1="220.4844" y2="639.1172"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1015.5" x2="1015.5" y1="550.4609" y2="639.1172"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1217.5" x2="1217.5" y1="415.1484" y2="639.1172"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="5" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="12" y="65.1426">:AGVMovementThread</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="5" y="638.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="12" y="659.6504">:AGVMovementThread</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="235.5" y="638.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="242.5" y="659.6504">client:TcpDigitalTwinClient</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="424.5" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="431.5" y="65.1426">:TcpAgvManagerServer</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="424.5" y="638.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="431.5" y="659.6504">:TcpAgvManagerServer</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="238" x="598.5" y="638.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224" x="605.5" y="659.6504">menu:TcpAgvManagerThreadMenu</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="939.5" y="638.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="946.5" y="659.6504">sensor:SensorThread</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="233" x="1101.5" y="638.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="1108.5" y="659.6504">controller:AGVMovementController</text><rect fill="#FFFFFF" height="542.8984" style="stroke:#181818;stroke-width:1.0;" width="10" x="79" y="86.2188"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="320" y="151.1797"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="320" y="320.4922"/><rect fill="#FFFFFF" height="135.9609" style="stroke:#181818;stroke-width:1.0;" width="10" x="501.5" y="151.1797"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="712.5" y="257.1406"/><rect fill="#FFFFFF" height="308.625" style="stroke:#181818;stroke-width:1.0;" width="10" x="712.5" y="320.4922"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1010.5" y="584.1172"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1213" y="448.8047"/><polygon fill="#181818" points="223.5,104.5703,233.5,108.5703,223.5,112.5703,227.5,108.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="89" x2="229.5" y1="108.5703" y2="108.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="96" y="103.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="107" y="103.7139">create()</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="235.5" y="86.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="242.5" y="107.752">client:TcpDigitalTwinClient</text><polygon fill="#181818" points="308,147.1797,318,151.1797,308,155.1797,312,151.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="89" x2="314" y1="151.1797" y2="151.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="96" y="146.3232">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="107" y="146.3232">run()</text><polygon fill="#181818" points="586.5,207.5313,596.5,211.5313,586.5,215.5313,590.5,211.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="511.5" x2="592.5" y1="211.5313" y2="211.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="518.5" y="206.6748">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="529.5" y="206.6748">create()</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="238" x="598.5" y="189.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224" x="605.5" y="210.7129">menu:TcpAgvManagerThreadMenu</text><polygon fill="#181818" points="700.5,253.1406,710.5,257.1406,700.5,261.1406,704.5,257.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="511.5" x2="706.5" y1="257.1406" y2="257.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="518.5" y="252.2842">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="529.5" y="252.2842">run</text><path d="M727,236.7891 L727,262.7891 L825,262.7891 L825,246.7891 L815,236.7891 L727,236.7891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M815,236.7891 L815,246.7891 L825,246.7891 L815,236.7891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="733" y="255.2842">wait for input.</text><polygon fill="#181818" points="308,316.4922,318,320.4922,308,324.4922,312,320.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="89" x2="314" y1="320.4922" y2="320.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="96" y="315.6357">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="107" y="315.6357">writeByte(size,messageCode, info)</text><path d="M588.5,365.4922 L649.5,365.4922 L649.5,373.8438 L639.5,383.8438 L588.5,383.8438 L588.5,365.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="121.3125" style="stroke:#000000;stroke-width:1.5;" width="756" x="588.5" y="365.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="603.5" y="379.9873">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="89" x="664.5" y="378.9111">[Route Request]</text><polygon fill="#181818" points="1089.5,402.1953,1099.5,406.1953,1089.5,410.1953,1093.5,406.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="722.5" x2="1095.5" y1="406.1953" y2="406.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="729.5" y="401.3389">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="740.5" y="401.3389">create(agv)</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="233" x="1101.5" y="383.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="1108.5" y="405.377">controller:AGVMovementController</text><polygon fill="#181818" points="1201,444.8047,1211,448.8047,1201,452.8047,1205,448.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="722.5" x2="1207" y1="448.8047" y2="448.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="729.5" y="443.9482">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="740.5" y="443.9482">calculateRoute(agv)</text><path d="M588.5,500.8047 L649.5,500.8047 L649.5,509.1563 L639.5,519.1563 L588.5,519.1563 L588.5,500.8047 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="121.3125" style="stroke:#000000;stroke-width:1.5;" width="513" x="588.5" y="500.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="603.5" y="515.2998">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="97" x="664.5" y="514.2236">[Sensor Request]</text><polygon fill="#181818" points="927.5,537.5078,937.5,541.5078,927.5,545.5078,931.5,541.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="722.5" x2="933.5" y1="541.5078" y2="541.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="729.5" y="536.6514">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="740.5" y="536.6514">create(agv,nextPosition,priority)</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="939.5" y="519.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="946.5" y="540.6895">sensor:SensorThread</text><polygon fill="#181818" points="998.5,580.1172,1008.5,584.1172,998.5,588.1172,1002.5,584.1172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="722.5" x2="1004.5" y1="584.1172" y2="584.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="729.5" y="579.2607">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="740.5" y="579.2607">run()</text><!--MD5=[f7775cec884ef40ba85fe2e0ed76534b]
@startuml
title AGVMovementThread Communication
autonumber
participant ":AGVMovementThread" as thread
participant "client:TcpDigitalTwinClient" as client
participant ":TcpAgvManagerServer" as server
participant "menu:TcpAgvManagerThreadMenu" as menu

participant "sensor:SensorThread" as sensor
participant "controller:AGVMovementController" as controller


activate thread
    thread -> client**:create()
    thread -> client : run()
    activate client
    deactivate client
    activate server
        server -> menu** : create()
        server-> menu:run
        activate menu
        deactivate menu
        note right: wait for input.
    deactivate server

    thread -> client: writeByte(size,messageCode, info)
    activate client
    deactivate client
    activate menu
        alt Route Request
            menu ->controller** : create(agv)

            menu -> controller:calculateRoute(agv)
            activate controller
            deactivate controller
        end

        alt Sensor Request
            menu ->sensor** : create(agv,nextPosition,priority)
            menu -> sensor:run()
            activate sensor
            deactivate sensor
        end

    deactivate menu
deactivate thread



@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>