<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1583px" preserveAspectRatio="none" style="width:3460px;height:1583px;background:#FFFFFF;" version="1.1" viewBox="0 0 3460 1583" width="3460px" zoomAndPan="magnify"><defs><filter height="300%" id="f6blcso154iz5" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="1045" x="1205.25" y="30.6855">SD - Access a list of orders that had been dispatched for customer delivery and update some of those orders to as "being delivered"</text><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="19" style="stroke:#A80036;stroke-width:1.0;" width="10" x="484" y="115.6016"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="35.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="484" y="298.9141"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="620" y="164.9531"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="620" y="353.2656"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="218.3125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="780" y="164.9531"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="1090.4922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1180" y="429.9688"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1401" y="460.3203"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="936.7344" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1685" y="520.6719"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1969" y="551.0234"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1969" y="883.1875"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1969" y="1094.5938"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1969" y="1276.3516"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2188" y="611.375"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2188" y="1154.9453"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2369" y="641.7266"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2369" y="1185.2969"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2552" y="943.5391"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2727.5" y="1003.8906"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2877" y="1336.7031"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3058" y="1367.0547"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3307" y="1427.4063"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="106.0547" style="stroke:#000000;stroke-width:2.0;" width="1112.5" x="179" y="717.4297"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="232" x2="232" y1="78.25" y2="1538.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="489" x2="489" y1="78.25" y2="1538.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="625" x2="625" y1="78.25" y2="1538.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="784.5" x2="784.5" y1="78.25" y2="1538.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="965.5" x2="965.5" y1="263.2578" y2="1538.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1184.5" x2="1184.5" y1="78.25" y2="1538.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1405.5" x2="1405.5" y1="78.25" y2="1538.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1689.5" x2="1689.5" y1="78.25" y2="1538.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1973.5" x2="1973.5" y1="78.25" y2="1538.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2192.5" x2="2192.5" y1="78.25" y2="1538.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2373.5" x2="2373.5" y1="78.25" y2="1538.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2556.5" x2="2556.5" y1="78.25" y2="1538.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2732.5" x2="2732.5" y1="78.25" y2="1538.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2881.5" x2="2881.5" y1="78.25" y2="1538.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3062.5" x2="3062.5" y1="78.25" y2="1538.4609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3311.5" x2="3311.5" y1="78.25" y2="1538.4609"/><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="82" x="189" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="196" y="63.1738">SalesClerk</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="82" x="189" y="1537.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="196" y="1558.9941">SalesClerk</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="82" x="446" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="453" y="63.1738">Dispatcher</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="82" x="446" y="1537.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="453" y="1558.9941">Dispatcher</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="162" x="542" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="549" y="63.1738">:UpdateOrderController</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="162" x="542" y="1537.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="549" y="1558.9941">:UpdateOrderController</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="113" x="726.5" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="733.5" y="63.1738">:EventPublisher</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="113" x="726.5" y="1537.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="733.5" y="1558.9941">:EventPublisher</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="221" x="853.5" y="1537.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="860.5" y="1558.9941">e UpdateOrderToDeliveredEvent</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="189" x="1088.5" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="1095.5" y="63.1738">:UpdateOrderToDeliveredUI</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="189" x="1088.5" y="1537.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="1095.5" y="1558.9941">:UpdateOrderToDeliveredUI</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="225" x="1291.5" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="1298.5" y="63.1738">:UpdateOrderToDeliveredFactory</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="225" x="1291.5" y="1537.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="1298.5" y="1558.9941">:UpdateOrderToDeliveredFactory</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="315" x="1530.5" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="301" x="1537.5" y="63.1738">:UpdateOrderToDeliveredControllerEventfulImpl</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="315" x="1530.5" y="1537.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="301" x="1537.5" y="1558.9941">:UpdateOrderToDeliveredControllerEventfulImpl</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="225" x="1859.5" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="1866.5" y="63.1738">orderRepository:OrderRepository</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="225" x="1859.5" y="1537.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="1866.5" y="1558.9941">orderRepository:OrderRepository</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="185" x="2098.5" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="2105.5" y="63.1738">orderMapper:OrderMapper</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="185" x="2098.5" y="1537.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="2105.5" y="1558.9941">orderMapper:OrderMapper</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="149" x="2297.5" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="2304.5" y="63.1738">orderDTO:OrderDTO</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="149" x="2297.5" y="1537.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="2304.5" y="1558.9941">orderDTO:OrderDTO</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="189" x="2460.5" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="2467.5" y="63.1738">productOrder:ProductOrder</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="189" x="2460.5" y="1537.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="2467.5" y="1558.9941">productOrder:ProductOrder</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="134" x="2663.5" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="2670.5" y="63.1738">:RepositoryFactory</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="134" x="2663.5" y="1537.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="2670.5" y="1558.9941">:RepositoryFactory</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="137" x="2811.5" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="2818.5" y="63.1738">customer:Customer</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="137" x="2811.5" y="1537.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="2818.5" y="1558.9941">customer:Customer</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="197" x="2962.5" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="2969.5" y="63.1738">customerDTO:CustomerDTO</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="197" x="2962.5" y="1537.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="2969.5" y="1558.9941">customerDTO:CustomerDTO</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="273" x="3173.5" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="259" x="3180.5" y="63.1738">customerRepository:CustomerRepository</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="273" x="3173.5" y="1537.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="259" x="3180.5" y="1558.9941">customerRepository:CustomerRepository</text><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="19" style="stroke:#A80036;stroke-width:1.0;" width="10" x="484" y="115.6016"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="35.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="484" y="298.9141"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="620" y="164.9531"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="620" y="353.2656"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="218.3125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="780" y="164.9531"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="1090.4922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1180" y="429.9688"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1401" y="460.3203"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="936.7344" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1685" y="520.6719"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1969" y="551.0234"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1969" y="883.1875"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1969" y="1094.5938"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1969" y="1276.3516"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2188" y="611.375"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2188" y="1154.9453"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2369" y="641.7266"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2369" y="1185.2969"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2552" y="943.5391"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2727.5" y="1003.8906"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2877" y="1336.7031"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3058" y="1367.0547"/><rect fill="#FFFFFF" filter="url(#f6blcso154iz5)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3307" y="1427.4063"/><polygon fill="#A80036" points="472,111.6016,482,115.6016,472,119.6016,476,115.6016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="232" x2="478" y1="115.6016" y2="115.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="239" y="110.7451">subscribe(updateOrderToDeliveredEvent)</text><path d="M54,93.25 L54,119.25 L223,119.25 L223,103.25 L213,93.25 L54,93.25 " fill="#FBFB77" filter="url(#f6blcso154iz5)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M213,93.25 L213,103.25 L223,103.25 L213,93.25 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="60" y="111.7451">subscribe to future events</text><polygon fill="#A80036" points="243,130.6016,233,134.6016,243,138.6016,239,134.6016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="237" x2="488" y1="134.6016" y2="134.6016"/><polygon fill="#A80036" points="768,160.9531,778,164.9531,768,168.9531,772,164.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="630" x2="774" y1="164.9531" y2="164.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="637" y="160.0967">publishEvent(orderDTO)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="790" x2="832" y1="208.9531" y2="208.9531"/><line style="stroke:#A80036;stroke-width:1.0;" x1="832" x2="832" y1="208.9531" y2="221.9531"/><line style="stroke:#A80036;stroke-width:1.0;" x1="791" x2="832" y1="221.9531" y2="221.9531"/><polygon fill="#A80036" points="801,217.9531,791,221.9531,801,225.9531,797,221.9531" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="841.5,248.3047,851.5,252.3047,841.5,256.3047,845.5,252.3047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="790" x2="847.5" y1="252.3047" y2="252.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="797" y="247.4482">create</text><rect fill="#FEFECE" filter="url(#f6blcso154iz5)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="221" x="853.5" y="229.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="860.5" y="251.4863">e UpdateOrderToDeliveredEvent</text><polygon fill="#A80036" points="505,294.9141,495,298.9141,505,302.9141,501,298.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="499" x2="779" y1="298.9141" y2="298.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="511" y="294.0576">publish(e)</text><polygon fill="#A80036" points="243,330.2656,233,334.2656,243,338.2656,239,334.2656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="237" x2="488" y1="334.2656" y2="334.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="249" y="329.4092">handle(e)</text><path d="M5,311.9141 L5,337.9141 L223,337.9141 L223,321.9141 L213,311.9141 L5,311.9141 " fill="#FBFB77" filter="url(#f6blcso154iz5)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M213,311.9141 L213,321.9141 L223,321.9141 L213,311.9141 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="11" y="330.4092">asynchronously notify subscribers</text><polygon fill="#A80036" points="641,349.2656,631,353.2656,641,357.2656,637,353.2656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="635" x2="779" y1="353.2656" y2="353.2656"/><polygon fill="#A80036" points="1168,425.9688,1178,429.9688,1168,433.9688,1172,429.9688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="232" x2="1174" y1="429.9688" y2="429.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="239" y="408.7607">view the list of orders that</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="243" y="425.1123">have already been received by the customers</text><polygon fill="#A80036" points="1389,456.3203,1399,460.3203,1389,464.3203,1393,460.3203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1190" x2="1395" y1="460.3203" y2="460.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="1197" y="455.4639">build()</text><polygon fill="#A80036" points="1673,516.6719,1683,520.6719,1673,524.6719,1677,520.6719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1190" x2="1679" y1="520.6719" y2="520.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="1197" y="515.8154">listOfOrdersReceived()</text><polygon fill="#A80036" points="1957,547.0234,1967,551.0234,1957,555.0234,1961,551.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1695" x2="1963" y1="551.0234" y2="551.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="1702" y="546.167">listOfOrdersReceived()</text><polygon fill="#A80036" points="2176,607.375,2186,611.375,2176,615.375,2180,611.375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1695" x2="2182" y1="611.375" y2="611.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1702" y="606.5186">create()</text><polygon fill="#A80036" points="2357,637.7266,2367,641.7266,2357,645.7266,2361,641.7266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2198" x2="2363" y1="641.7266" y2="641.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="2205" y="636.8701">create()</text><polygon fill="#A80036" points="2362,668.0781,2372,672.0781,2362,676.0781,2366,672.0781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2193" x2="2368" y1="672.0781" y2="672.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="2200" y="667.2217">toDTO(orderList))</text><polygon fill="#A80036" points="243,698.4297,233,702.4297,243,706.4297,239,702.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="237" x2="1179" y1="702.4297" y2="702.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="373" x="249" y="697.5732">Asks the Sales Clerk to choose the order that has been received</text><path d="M179,717.4297 L252,717.4297 L252,725.4297 L242,735.4297 L179,735.4297 L179,717.4297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="106.0547" style="stroke:#000000;stroke-width:2.0;" width="1112.5" x="179" y="717.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="194" y="731.9248">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="64" x="267" y="730.8486">[option != 0]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1190" x2="1232" y1="758.1328" y2="758.1328"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1232" x2="1232" y1="758.1328" y2="771.1328"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1191" x2="1232" y1="771.1328" y2="771.1328"/><polygon fill="#A80036" points="1201,767.1328,1191,771.1328,1201,775.1328,1197,771.1328" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="1197" y="753.2764">showOrders()</text><polygon fill="#A80036" points="243,781.1328,233,785.1328,243,789.1328,239,785.1328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="237" x2="1179" y1="785.1328" y2="785.1328"/><polygon fill="#A80036" points="1168,811.4844,1178,815.4844,1168,819.4844,1172,815.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="232" x2="1174" y1="815.4844" y2="815.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="239" y="810.6279">select order</text><polygon fill="#A80036" points="1673,848.8359,1683,852.8359,1673,856.8359,1677,852.8359" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1190" x2="1679" y1="852.8359" y2="852.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="1197" y="847.9795">changeOrderStatusToDelivered(orderDto)</text><polygon fill="#A80036" points="1957,879.1875,1967,883.1875,1957,887.1875,1961,883.1875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1695" x2="1963" y1="883.1875" y2="883.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="1702" y="878.3311">findById(id)</text><polygon fill="#A80036" points="2540,939.5391,2550,943.5391,2540,947.5391,2544,943.5391" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1695" x2="2546" y1="943.5391" y2="943.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="1702" y="938.6826">deliverOrder()</text><polygon fill="#A80036" points="2715.5,999.8906,2725.5,1003.8906,2715.5,1007.8906,2719.5,1003.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1695" x2="2721.5" y1="1003.8906" y2="1003.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="1702" y="999.0342">save(order)</text><polygon fill="#A80036" points="1673,1060.2422,1683,1064.2422,1673,1068.2422,1677,1064.2422" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1190" x2="1679" y1="1064.2422" y2="1064.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="1197" y="1059.3857">findProductOrderById(id)</text><polygon fill="#A80036" points="1957,1090.5938,1967,1094.5938,1957,1098.5938,1961,1094.5938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1695" x2="1963" y1="1094.5938" y2="1094.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="1702" y="1089.7373">findById(id)</text><polygon fill="#A80036" points="2176,1150.9453,2186,1154.9453,2176,1158.9453,2180,1154.9453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1695" x2="2182" y1="1154.9453" y2="1154.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1702" y="1150.0889">create()</text><polygon fill="#A80036" points="2357,1181.2969,2367,1185.2969,2357,1189.2969,2361,1185.2969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2198" x2="2363" y1="1185.2969" y2="1185.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="2205" y="1180.4404">create()</text><polygon fill="#A80036" points="2362,1211.6484,2372,1215.6484,2362,1219.6484,2366,1215.6484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2193" x2="2368" y1="1215.6484" y2="1215.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="2200" y="1210.792">toDTO(order)</text><polygon fill="#A80036" points="1673,1242,1683,1246,1673,1250,1677,1246" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1190" x2="1679" y1="1246" y2="1246"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="1197" y="1241.1436">findCustomerByOrderId(identifier)</text><polygon fill="#A80036" points="1957,1272.3516,1967,1276.3516,1957,1280.3516,1961,1276.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1695" x2="1963" y1="1276.3516" y2="1276.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="1702" y="1271.4951">findById(id)</text><polygon fill="#A80036" points="2865,1332.7031,2875,1336.7031,2865,1340.7031,2869,1336.7031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1695" x2="2871" y1="1336.7031" y2="1336.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="1702" y="1331.8467">vat()</text><polygon fill="#A80036" points="3046,1363.0547,3056,1367.0547,3046,1371.0547,3050,1367.0547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2887" x2="3052" y1="1367.0547" y2="1367.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="2894" y="1362.1982">toDTO()</text><polygon fill="#A80036" points="3295,1423.4063,3305,1427.4063,3295,1431.4063,3299,1427.4063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1695" x2="3301" y1="1427.4063" y2="1427.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="1702" y="1422.5498">findByVat(vat)</text><polygon fill="#A80036" points="243,1516.4609,233,1520.4609,243,1524.4609,239,1520.4609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="237" x2="1184" y1="1520.4609" y2="1520.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="249" y="1482.9014">Changes the order's status, shows</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="249" y="1499.2529">the customer and informs the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271" x="249" y="1515.6045">Sales Clerk about the success of the operation</text><!--MD5=[7decea9a1af37f7168871e825d593d44]
@startuml
title SD - Access a list of orders that had been dispatched for customer delivery and update some of those orders to as "being delivered"

        participant "SalesClerk" as sc
        participant "Dispatcher" as dispatcher
        participant ":UpdateOrderController" as ctrl1
        participant ":EventPublisher" as p
        participant "e UpdateOrderToDeliveredEvent" as event
		participant ":UpdateOrderToDeliveredUI" as ui
		participant ":UpdateOrderToDeliveredFactory" as orderFac
		participant ":UpdateOrderToDeliveredControllerEventfulImpl" as ctrl
		participant "orderRepository:OrderRepository" as repo
		participant "orderMapper:OrderMapper" as orderMapper
        participant "orderDTO:OrderDTO" as orderDTO
		participant "productOrder:ProductOrder" as order
		participant ":RepositoryFactory" as rf
		participant "customer:Customer" as cstm
		participant "customerDTO:CustomerDTO" as cstmDTO
		participant "customerRepository:CustomerRepository" as cstmRepo

        sc->dispatcher: subscribe(updateOrderToDeliveredEvent)
        note left: subscribe to future events
        activate dispatcher
        dispatcher- ->sc:
        deactivate dispatcher

        ctrl1->p: publishEvent(orderDTO)
        activate ctrl1
        deactivate ctrl1
        activate p
        p->p:
        p->event **: create
        p->dispatcher: publish(e)
        activate dispatcher
        dispatcher- ->sc: handle(e)
        note left: asynchronously notify subscribers
        deactivate dispatcher
        p- ->ctrl1:
        activate ctrl1
        deactivate ctrl1
        deactivate p

        sc->ui: view the list of orders that \n have already been received by the customers
        activate ui
        ui->orderFac: build()
        activate orderFac
        deactivate orderFac
        ui->ctrl: listOfOrdersReceived()
        activate ctrl
        ctrl->repo: listOfOrdersReceived()
        activate repo
        deactivate repo

        ctrl->orderMapper: create()
        activate orderMapper
        orderMapper->orderDTO: create()
        activate orderDTO
        orderMapper->orderDTO: toDTO(orderList))
        deactivate orderDTO
        deactivate orderMapper

        ui- ->sc: Asks the Sales Clerk to choose the order that has been received

        loop option != 0
        ui->ui:showOrders()
        ui- ->sc:
        sc->ui:select order
        end loop

        ui->ctrl: changeOrderStatusToDelivered(orderDto)

        ctrl->repo: findById(id)
        activate repo
        deactivate repo
        ctrl->order: deliverOrder()
        activate order
        deactivate order
        ctrl->rf: save(order)
        activate rf
        deactivate rf
        ui->ctrl: findProductOrderById(id)
        ctrl->repo: findById(id)
        activate repo
        deactivate repo

        ctrl->orderMapper: create()
        activate orderMapper
        orderMapper->orderDTO: create()
        activate orderDTO
        orderMapper->orderDTO: toDTO(order)
        deactivate orderDTO
        deactivate orderMapper

        ui->ctrl: findCustomerByOrderId(identifier)
        ctrl->repo: findById(id)
        activate repo
        deactivate repo
        ctrl->cstm: vat()
        activate cstm
        cstm->cstmDTO: toDTO()
        activate cstmDTO
        deactivate cstmDTO
        deactivate cstm
        ctrl->cstmRepo: findByVat(vat)
        activate cstmRepo
        deactivate cstmRepo

        deactivate ctrl

        ui- ->sc: Changes the order's status, shows \nthe customer and informs the \nSales Clerk about the success of the operation
        deactivate ui

@enduml

PlantUML version 1.2021.11(Sat Oct 02 14:26:11 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>